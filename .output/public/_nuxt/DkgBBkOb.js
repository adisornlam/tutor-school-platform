import{d as v,l as c,r as M,q as y,E as x,c as d,b as o,s as D,x as n,J as l,e as r,v as k,g as w,a as u}from"./B_rLn4hw.js";const A={class:"space-y-6"},h={class:"bg-white rounded-lg shadow p-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={class:"flex justify-end pt-4"},B=["disabled"],U={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},q=v({__name:"TimezoneTab",props:{settings:{}},emits:["saved"],setup(m,{emit:p}){const g=m,f=p,{accessToken:Y}=c(),i=M(!1),t=y({timezone:"Asia/Bangkok",date_format:"DD/MM/YYYY",time_format:"24-hour"});x(()=>g.settings,s=>{s&&s.length>0&&s.forEach(e=>{const a=e.key;a in t&&(t[a]=e.value||t[a])})},{immediate:!0});const b=async()=>{try{i.value=!0;const s=Object.keys(t).map(e=>({key:e,value:t[e]}));await $fetch("/api/admin/settings/system",{method:"PUT",headers:{Authorization:`Bearer ${Y.value}`},body:{settings:s}}),f("saved")}catch(s){console.error("Error saving timezone settings:",s),alert(s.data?.message||"เกิดข้อผิดพลาดในการบันทึกการตั้งค่า")}finally{i.value=!1}};return(s,e)=>(u(),d("div",A,[o("div",h,[e[10]||(e[10]=o("h2",{class:"text-xl font-semibold mb-4"},"การตั้งค่าเวลาและวันที่",-1)),o("form",{onSubmit:D(b,["prevent"]),class:"space-y-4"},[o("div",T,[o("div",null,[e[4]||(e[4]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Timezone ",-1)),n(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r(t).timezone=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},[...e[3]||(e[3]=[o("option",{value:"Asia/Bangkok"},"Asia/Bangkok (+07:00)",-1),o("option",{value:"UTC"},"UTC (+00:00)",-1),o("option",{value:"Asia/Jakarta"},"Asia/Jakarta (+07:00)",-1),o("option",{value:"Asia/Singapore"},"Asia/Singapore (+08:00)",-1)])],512),[[l,r(t).timezone]])]),o("div",null,[e[6]||(e[6]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," รูปแบบวันที่ ",-1)),n(o("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r(t).date_format=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},[...e[5]||(e[5]=[o("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY",-1),o("option",{value:"YYYY-MM-DD"},"YYYY-MM-DD",-1),o("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY",-1),o("option",{value:"DD MMM YYYY"},"DD MMM YYYY",-1)])],512),[[l,r(t).date_format]])]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," รูปแบบเวลา ",-1)),n(o("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>r(t).time_format=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},[...e[7]||(e[7]=[o("option",{value:"24-hour"},"24-hour (00:00 - 23:59)",-1),o("option",{value:"12-hour"},"12-hour (AM/PM)",-1)])],512),[[l,r(t).time_format]])])]),o("div",z,[o("button",{type:"submit",disabled:r(i),class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[r(i)?(u(),d("span",U)):k("",!0),e[9]||(e[9]=w(" บันทึก ",-1))],8,B)])],32)])]))}});export{q as _};
