import{d as y,l as x,r as v,q as w,E as k,c as i,b as o,s as U,x as r,y as a,e as l,v as V,g as T,a as u}from"./CX4WDIMJ.js";const _={class:"space-y-6"},B={class:"bg-white rounded-lg shadow p-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={class:"flex justify-end pt-4"},N=["disabled"],j={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},C=y({__name:"GeneralTab",props:{settings:{}},emits:["saved"],setup(p,{emit:m}){const g=p,f=m,{accessToken:b}=x(),d=v(!1),t=w({app_name:"",app_version:"",logo_url:"",favicon_url:"",contact_email:"",contact_phone:"",address:""});k(()=>g.settings,n=>{n&&n.length>0&&n.forEach(e=>{const s=e.key;s in t&&(t[s]=e.value||"")})},{immediate:!0});const c=async()=>{try{d.value=!0;const n=Object.keys(t).map(e=>({key:e,value:t[e]}));await $fetch("/api/admin/settings/system",{method:"PUT",headers:{Authorization:`Bearer ${b.value}`},body:{settings:n}}),f("saved")}catch(n){console.error("Error saving general settings:",n),alert(n.data?.message||"เกิดข้อผิดพลาดในการบันทึกการตั้งค่า")}finally{d.value=!1}};return(n,e)=>(u(),i("div",_,[o("div",B,[e[15]||(e[15]=o("h2",{class:"text-xl font-semibold mb-4"},"ข้อมูลทั่วไป",-1)),o("form",{onSubmit:U(c,["prevent"]),class:"space-y-4"},[o("div",E,[o("div",null,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," ชื่อแอปพลิเคชัน ",-1)),r(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).app_name=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[a,l(t).app_name]])]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," เวอร์ชัน ",-1)),r(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).app_version=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[a,l(t).app_version]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," URL โลโก้ ",-1)),r(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).logo_url=s),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[a,l(t).logo_url]])]),o("div",null,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," URL Favicon ",-1)),r(o("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).favicon_url=s),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[a,l(t).favicon_url]])]),o("div",null,[e[11]||(e[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," อีเมลติดต่อ ",-1)),r(o("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l(t).contact_email=s),type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[a,l(t).contact_email]])]),o("div",null,[e[12]||(e[12]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," เบอร์โทรศัพท์ติดต่อ ",-1)),r(o("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>l(t).contact_phone=s),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[a,l(t).contact_phone]])])]),o("div",null,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," ที่อยู่ ",-1)),r(o("textarea",{"onUpdate:modelValue":e[6]||(e[6]=s=>l(t).address=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[a,l(t).address]])]),o("div",q,[o("button",{type:"submit",disabled:l(d),class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[l(d)?(u(),i("span",j)):V("",!0),e[14]||(e[14]=T(" บันทึก ",-1))],8,N)])],32)])]))}});export{C as _};
