import{_ as k}from"./0JwXLbdW.js";import{d as w,l as _,r as C,o as M,C as j,c as g,a as h,b as e,f as n,w as l,g as f,v as x,e as o,t as i,n as d,ai as u,a6 as B}from"./CX4WDIMJ.js";import{u as $,s as z}from"./xJo2gTVb.js";const V={class:"min-h-screen bg-gray-50"},N={class:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50"},S={class:"container mx-auto px-4"},U={class:"flex items-center justify-between h-16"},L={class:"flex items-center space-x-4"},I={class:"relative"},A={class:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center text-white font-semibold"},D={class:"hidden md:block text-gray-700"},E={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2"},H={class:"flex"},K={class:"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-4rem)] sticky top-16"},P={class:"p-4"},R={class:"mb-6"},T={class:"space-y-1"},W={key:0,class:"flex items-center justify-center min-w-[20px] h-5 px-1.5 text-xs font-semibold text-white bg-red-500 rounded-full"},q={class:"space-y-1"},F={class:"flex-1 p-6"},X=w({__name:"student",setup(G){const{user:c,logout:v}=_(),{unreadCount:p,fetchUnreadCount:m}=$(),a=C(!1),y=async()=>{a.value=!1,await v()};return M(()=>{m();const s=z(()=>{m()},1e4);j(()=>{clearInterval(s)})}),(s,t)=>{const r=k;return h(),g("div",V,[e("header",N,[e("div",S,[e("div",U,[n(r,{to:"/",class:"text-xl font-bold text-green-600"},{default:l(()=>[...t[2]||(t[2]=[f(" KDC School ",-1)])]),_:1}),e("div",L,[t[4]||(t[4]=e("button",{class:"relative p-2 text-gray-700 hover:text-green-600"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),e("span",{class:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-500"})],-1)),e("div",I,[e("button",{onClick:t[0]||(t[0]=b=>a.value=!o(a)),class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100"},[e("div",A,i(o(c)?.first_name?.[0]||"U"),1),e("span",D,i(o(c)?.first_name)+" "+i(o(c)?.last_name),1)]),o(a)?(h(),g("div",E,[n(r,{to:"/profile",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:t[1]||(t[1]=b=>a.value=!1)},{default:l(()=>[...t[3]||(t[3]=[f(" โปรไฟล์ของฉัน ",-1)])]),_:1}),e("button",{onClick:y,class:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100"}," ออกจากระบบ ")])):x("",!0)])])])])]),e("div",H,[e("aside",K,[e("nav",P,[e("div",R,[t[7]||(t[7]=e("h2",{class:"text-sm font-semibold text-gray-500 uppercase mb-2"},"ข้อมูลการเรียน",-1)),e("ul",T,[e("li",null,[n(r,{to:"/my-courses",class:d(["flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors",(s._.provides[u]||s.$route).path==="/my-courses"?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-100"])},{default:l(()=>[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),e("span",null,"คอร์สเรียนของฉัน",-1)])]),_:1},8,["class"])]),e("li",null,[n(r,{to:"/chat",class:d(["flex items-center justify-between px-3 py-2 rounded-lg transition-colors",(s._.provides[u]||s.$route).path.startsWith("/chat")?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-100"])},{default:l(()=>[t[6]||(t[6]=e("div",{class:"flex items-center space-x-3"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),e("span",null,"แชท")],-1)),o(p)>0?(h(),g("span",W,i(o(p)>99?"99+":o(p)),1)):x("",!0)]),_:1},8,["class"])])])]),e("div",null,[t[10]||(t[10]=e("h2",{class:"text-sm font-semibold text-gray-500 uppercase mb-2"},"ข้อมูลโปรไฟล์",-1)),e("ul",q,[e("li",null,[n(r,{to:"/profile",class:d(["flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors",(s._.provides[u]||s.$route).path==="/profile"?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-100"])},{default:l(()=>[...t[8]||(t[8]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),e("span",null,"โปรไฟล์ของฉัน",-1)])]),_:1},8,["class"])]),e("li",null,[n(r,{to:"/payment-history",class:d(["flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors",(s._.provides[u]||s.$route).path==="/payment-history"?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-100"])},{default:l(()=>[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",null,"ประวัติการชำระเงิน",-1)])]),_:1},8,["class"])])])])])]),e("main",F,[B(s.$slots,"default")])])])}}});export{X as default};
