import{ac as c,l,ad as o,A as m,P as _,ae as A}from"./B_rLn4hw.js";const h=c(async(r,f)=>{let e,t;const{isAuthenticated:s,fetchUser:i,hasAnyRole:n}=l();if(s.value||([e,t]=o(()=>i()),await e,t(),[e,t]=o(()=>new Promise(u=>setTimeout(u,100))),await e,t()),!s.value)return m(`/auth/login?redirect=${encodeURIComponent(r.fullPath)}`);const{UserRole:a}=([e,t]=o(()=>_(()=>import("./LiZfZJ8V.js"),[],import.meta.url)),e=await e,t(),e),d=[a.SYSTEM_ADMIN,a.OWNER,a.ADMIN,a.BRANCH_ADMIN,a.TUTOR];if(!n(d))throw A({statusCode:403,message:"Access denied. Admin role required."})});export{h as default};
