import{_ as x}from"./0JwXLbdW.js";import{d as b,r as l,c as o,b as t,s as y,v as c,x as _,y as v,e as s,t as f,f as h,w,a as r,g as k}from"./CX4WDIMJ.js";const N={class:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12"},V={class:"max-w-md w-full mx-4"},B={class:"bg-white rounded-lg shadow-lg p-8"},C={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},S={key:1,class:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded"},T=["disabled"],D={key:0},M={key:1},P={class:"mt-6 text-center"},F=b({__name:"forgot-password",setup(j){const n=l({identifier:""}),a=l(!1),i=l(null),d=l(null),m=async()=>{a.value=!0,i.value=null,d.value=null;try{await $fetch("/api/auth/forgot-password",{method:"POST",body:{identifier:n.value.identifier}}),d.value="เรามีส่งลิงก์รีเซ็ตรหัสผ่านไปยังอีเมล์ของคุณแล้ว กรุณาตรวจสอบอีเมล์",n.value.identifier=""}catch(u){i.value=u.data?.message||u.message||"เกิดข้อผิดพลาด กรุณาลองใหม่อีกครั้ง"}finally{a.value=!1}};return(u,e)=>{const g=x;return r(),o("div",N,[t("div",V,[t("div",B,[e[3]||(e[3]=t("h1",{class:"text-3xl font-bold text-center mb-2"},"ลืมรหัสผ่าน",-1)),e[4]||(e[4]=t("p",{class:"text-gray-600 text-center mb-8"}," กรุณากรอกชื่อผู้ใช้งานหรืออีเมล์ของคุณ เราจะส่งลิงก์รีเซ็ตรหัสผ่านให้คุณ ",-1)),t("form",{onSubmit:y(m,["prevent"]),class:"space-y-6"},[t("div",null,[e[1]||(e[1]=t("label",{for:"identifier",class:"block text-sm font-medium text-gray-700 mb-2"}," ชื่อผู้ใช้งาน หรือ อีเมล์ ",-1)),_(t("input",{id:"identifier","onUpdate:modelValue":e[0]||(e[0]=p=>s(n).identifier=p),type:"text",required:"",class:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 placeholder-gray-400",placeholder:"username หรือ email"},null,512),[[v,s(n).identifier]])]),s(i)?(r(),o("div",C,f(s(i)),1)):c("",!0),s(d)?(r(),o("div",S,f(s(d)),1)):c("",!0),t("button",{type:"submit",disabled:s(a),class:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium"},[s(a)?(r(),o("span",D,"กำลังส่ง...")):(r(),o("span",M,"ส่งลิงก์รีเซ็ตรหัสผ่าน"))],8,T)],32),t("div",P,[h(g,{to:"/auth/login",class:"text-sm text-green-600 hover:text-green-700"},{default:w(()=>[...e[2]||(e[2]=[k(" กลับไปหน้าเข้าสู่ระบบ ",-1)])]),_:1})])])])])}}});export{F as default};
