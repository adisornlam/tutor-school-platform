import{d as _,l as k,r as c,q as w,E as V,c as u,b as s,v as U,x as l,g as B,y as i,e as o,L as g,t as M,s as T,a as p}from"./CX4WDIMJ.js";const C={class:"space-y-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N={class:"md:col-span-2"},S={class:"md:col-span-2 flex items-center space-x-4"},$={class:"flex items-center"},q={class:"flex items-center"},A={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},D={class:"flex justify-end space-x-3 pt-4"},I=["disabled"],L={key:0},P={key:1},z=_({__name:"PaymentMethodBasicInfo",props:{method:{}},emits:["saved"],setup(f,{emit:b}){const m=f,y=b,{accessToken:x}=k(),d=c(!1),a=c(""),t=w({name:"",name_en:"",description:"",icon:"",is_active:!0,is_default:!1,display_order:0});V(()=>m.method,n=>{n&&(t.name=n.name||"",t.name_en=n.name_en||"",t.description=n.description||"",t.icon=n.icon||"",t.is_active=n.is_active!==void 0?n.is_active:!0,t.is_default=n.is_default!==void 0?n.is_default:!1,t.display_order=n.display_order||0),a.value=""},{immediate:!0});const v=async()=>{d.value=!0,a.value="";try{await $fetch(`/api/admin/settings/payment-methods/${m.method.id}`,{method:"PUT",headers:{Authorization:`Bearer ${x.value}`},body:t}),y("saved")}catch(n){console.error("Error saving payment method:",n),a.value=n.data?.message||"เกิดข้อผิดพลาดในการบันทึกข้อมูล"}finally{d.value=!1}};return(n,e)=>(p(),u("div",C,[s("form",{onSubmit:T(v,["prevent"]),class:"space-y-4"},[s("div",E,[s("div",null,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[B(" ชื่อ (ภาษาไทย) "),s("span",{class:"text-red-500"},"*")],-1)),l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(t).name=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[i,o(t).name]])]),s("div",null,[e[8]||(e[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," ชื่อ (ภาษาอังกฤษ) ",-1)),l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).name_en=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[i,o(t).name_en]])]),s("div",N,[e[9]||(e[9]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," คำอธิบาย ",-1)),l(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(t).description=r),rows:"2",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[i,o(t).description]])]),s("div",null,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Icon URL ",-1)),l(s("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(t).icon=r),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[i,o(t).icon]])]),s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," ลำดับการแสดงผล ",-1)),l(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(t).display_order=r),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[i,o(t).display_order,void 0,{number:!0}]])]),s("div",S,[s("label",$,[l(s("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o(t).is_active=r),type:"checkbox",class:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"},null,512),[[g,o(t).is_active]]),e[12]||(e[12]=s("span",{class:"ml-2 text-sm text-gray-700"},"เปิดใช้งาน",-1))]),s("label",q,[l(s("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>o(t).is_default=r),type:"checkbox",class:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"},null,512),[[g,o(t).is_default]]),e[13]||(e[13]=s("span",{class:"ml-2 text-sm text-gray-700"},"ตั้งเป็นค่าเริ่มต้น",-1))])])]),o(a)?(p(),u("div",A,M(o(a)),1)):U("",!0),s("div",D,[s("button",{type:"submit",disabled:o(d),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(d)?(p(),u("span",L,"กำลังบันทึก...")):(p(),u("span",P,"บันทึก"))],8,I)])],32)]))}});export{z as _};
