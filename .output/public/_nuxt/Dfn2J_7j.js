import{d as v,l as x,r as _,q as k,E as w,c as i,b as o,s as h,x as n,J as u,e as s,y as d,v as V,g as U,a as m}from"./CX4WDIMJ.js";const A={class:"space-y-6"},T={class:"bg-white rounded-lg shadow p-6"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},C={class:"flex items-center gap-2"},E={class:"flex items-center gap-2"},F={class:"flex justify-end pt-4"},M=["disabled"],N={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},q=v({__name:"DisplayTab",props:{settings:{}},emits:["saved"],setup(p,{emit:c}){const g=p,b=c,{accessToken:f}=x(),a=_(!1),t=k({items_per_page:20,theme_mode:"light",primary_color:"#10b981",secondary_color:"#2563eb"});w(()=>g.settings,l=>{l&&l.length>0&&l.forEach(e=>{const r=e.key;r in t&&(typeof t[r]=="number"?t[r]=Number(e.value)||t[r]:t[r]=e.value||t[r])})},{immediate:!0});const y=async()=>{try{a.value=!0;const l=Object.keys(t).map(e=>({key:e,value:t[e]}));await $fetch("/api/admin/settings/system",{method:"PUT",headers:{Authorization:`Bearer ${f.value}`},body:{settings:l}}),b("saved")}catch(l){console.error("Error saving display settings:",l),alert(l.data?.message||"เกิดข้อผิดพลาดในการบันทึกการตั้งค่า")}finally{a.value=!1}};return(l,e)=>(m(),i("div",A,[o("div",T,[e[13]||(e[13]=o("h2",{class:"text-xl font-semibold mb-4"},"การตั้งค่าการแสดงผล",-1)),o("form",{onSubmit:h(y,["prevent"]),class:"space-y-6"},[o("div",B,[o("div",null,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," จำนวนรายการต่อหน้า ",-1)),n(o("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s(t).items_per_page=r),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},[...e[6]||(e[6]=[o("option",{value:10},"10",-1),o("option",{value:20},"20",-1),o("option",{value:50},"50",-1),o("option",{value:100},"100",-1)])],512),[[u,s(t).items_per_page,void 0,{number:!0}]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Theme Mode ",-1)),n(o("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(t).theme_mode=r),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:""},[...e[8]||(e[8]=[o("option",{value:"light"},"Light",-1),o("option",{value:"dark"},"Dark",-1),o("option",{value:"auto"},"Auto (ตามระบบ)",-1)])],512),[[u,s(t).theme_mode]])]),o("div",null,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Primary Color (Hex) ",-1)),o("div",C,[n(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(t).primary_color=r),type:"color",class:"w-16 h-10 border border-gray-300 rounded cursor-pointer"},null,512),[[d,s(t).primary_color]]),n(o("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(t).primary_color=r),type:"text",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"#10b981"},null,512),[[d,s(t).primary_color]])])]),o("div",null,[e[11]||(e[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Secondary Color (Hex) ",-1)),o("div",E,[n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(t).secondary_color=r),type:"color",class:"w-16 h-10 border border-gray-300 rounded cursor-pointer"},null,512),[[d,s(t).secondary_color]]),n(o("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>s(t).secondary_color=r),type:"text",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"#2563eb"},null,512),[[d,s(t).secondary_color]])])])]),o("div",F,[o("button",{type:"submit",disabled:s(a),class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[s(a)?(m(),i("span",N)):V("",!0),e[12]||(e[12]=U(" บันทึก ",-1))],8,M)])],32)])]))}});export{q as _};
