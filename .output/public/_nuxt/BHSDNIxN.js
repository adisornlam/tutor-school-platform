import{_ as b}from"./DVLQ4A6n.js";import{_ as k}from"./CasXnXPt.js";import{_ as x}from"./Dac6oD3c.js";import{_ as h}from"./BFsmL2mK.js";import{_ as S}from"./Dm9QA4UA.js";import{_ as $}from"./CPO0it5h.js";import{_ as z}from"./CfAzB1GA.js";import{_ as B}from"./Dfn2J_7j.js";import{d as C,l as w,r as g,o as N,c,b as s,e,f as V,t as p,F as A,i as E,k as r,v as o,a as t,ab as F,n as T}from"./CX4WDIMJ.js";const j={key:0,class:"flex items-center justify-center py-12"},D={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},L={class:"flex items-center"},M={class:"text-red-800"},q={key:2},G={class:"flex items-center gap-4 mb-6 border-b border-gray-200"},H=["onClick"],Z=C({__name:"index",setup(I){const{accessToken:v}=w(),n=g("general"),_=g(!0),d=g(null),a=g({}),y=[{id:"general",label:"ข้อมูลทั่วไป"},{id:"timezone",label:"เวลาและวันที่"},{id:"maintenance",label:"บำรุงรักษา"},{id:"security",label:"ความปลอดภัย"},{id:"file_upload",label:"การอัพโหลดไฟล์"},{id:"notification",label:"การแจ้งเตือน"},{id:"language",label:"ภาษา"},{id:"display",label:"การแสดงผล"}],f=async()=>{try{_.value=!0,d.value=null;const l=await $fetch("/api/admin/settings/system",{headers:{Authorization:`Bearer ${v.value}`}});l.success?a.value=l.data:d.value="ไม่สามารถโหลดการตั้งค่าได้"}catch(l){console.error("Error loading system settings:",l),d.value=l.data?.message||"เกิดข้อผิดพลาดในการโหลดการตั้งค่า"}finally{_.value=!1}},i=()=>{f()};return N(()=>{f()}),(l,u)=>(t(),c("div",null,[u[1]||(u[1]=s("div",{class:"mb-6"},[s("h1",{class:"text-3xl font-bold"},"ตั้งค่าระบบ"),s("p",{class:"mt-2 text-gray-600"},"จัดการการตั้งค่าระบบต่างๆ")],-1)),e(_)?(t(),c("div",j,[...u[0]||(u[0]=[s("div",{class:"text-center"},[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s("p",{class:"mt-4 text-gray-600"},"กำลังโหลด...")],-1)])])):e(d)?(t(),c("div",D,[s("div",L,[V(e(F),{class:"h-5 w-5 text-red-600 mr-2"}),s("p",M,p(e(d)),1)])])):(t(),c("div",q,[s("div",G,[(t(),c(A,null,E(y,m=>s("button",{key:m.id,onClick:J=>n.value=m.id,class:T(["px-4 py-2 font-semibold transition-colors relative",e(n)===m.id?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-green-600"])},p(m.label),11,H)),64))]),s("div",null,[e(n)==="general"?(t(),r(b,{key:0,settings:e(a).general||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="timezone"?(t(),r(k,{key:1,settings:e(a).timezone||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="maintenance"?(t(),r(x,{key:2,settings:e(a).maintenance||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="security"?(t(),r(h,{key:3,settings:e(a).security||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="file_upload"?(t(),r(S,{key:4,settings:e(a).file_upload||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="notification"?(t(),r($,{key:5,settings:e(a).notification||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="language"?(t(),r(z,{key:6,settings:e(a).language||[],onSaved:i},null,8,["settings"])):o("",!0),e(n)==="display"?(t(),r(B,{key:7,settings:e(a).display||[],onSaved:i},null,8,["settings"])):o("",!0)])]))]))}});export{Z as default};
