import{_ as D}from"./0JwXLbdW.js";import{d as S,l as $,p as L,r as m,q as z,o as H,c as a,b as t,x as g,y as O,e as r,J as y,t as l,F,i as U,j as A,a as i,v as f,n as v,f as E,w as I}from"./CX4WDIMJ.js";import{f as R}from"./BALXvQ8s.js";import{t as q}from"./CiM0_A9B.js";const J={class:"bg-white rounded-lg shadow p-4 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},K={class:"bg-white rounded-lg shadow overflow-hidden"},P={key:0,class:"p-8 text-center"},Q={key:1,class:"p-4 bg-red-50 border border-red-200 text-red-700 rounded"},W={key:2,class:"p-8 text-center text-gray-500"},X={key:3,class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z=["onClick"],tt={class:"text-sm font-medium text-green-600 hover:text-green-700 cursor-pointer"},et={key:0,class:"text-xs text-gray-500"},st={key:1,class:"text-xs text-gray-400 mt-1 line-clamp-2"},ot={class:"px-6 py-4 whitespace-nowrap"},nt={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm font-medium text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap"},it={key:0,class:"text-sm text-gray-600"},lt={key:1,class:"text-sm text-gray-400"},dt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ut={class:"flex items-center justify-end space-x-2"},ht=S({__name:"index",setup(xt){const h=A(),{accessToken:b}=$(),w=L(),p=m([]),u=m(!0),d=m(""),n=z({search:"",type:"",status:""});let x=null;const _=()=>{x&&clearTimeout(x),x=setTimeout(()=>{c()},500)},c=async()=>{u.value=!0,d.value="";try{const s={};n.search&&(s.search=n.search),n.type&&(s.type=n.type),n.status&&(s.status=n.status);const e=await $fetch(`${h.public.apiBase}/admin/courses`,{headers:{Authorization:`Bearer ${b.value}`},params:s});e.success&&(p.value=e.data)}catch(s){console.error("Error loading courses:",s),d.value=s.data?.message||"เกิดข้อผิดพลาดในการโหลดข้อมูล"}finally{u.value=!1}},k=s=>({live_online:"Live Online",vod:"VOD",hybrid:"Hybrid"})[s]||s,C=s=>({live_online:"bg-blue-100 text-blue-800",vod:"bg-purple-100 text-purple-800",hybrid:"bg-indigo-100 text-indigo-800"})[s]||"bg-gray-100 text-gray-800",N=s=>({draft:"ร่าง",published:"เผยแพร่",archived:"เก็บถาวร"})[s]||s,B=s=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",archived:"bg-yellow-100 text-yellow-800"})[s]||"bg-gray-100 text-gray-800",M=s=>({beginner:"เริ่มต้น",intermediate:"กลาง",advanced:"สูง"})[s]||s,T=s=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(s),V=s=>R(new Date(s),"dd MMM yyyy",{locale:q});return H(()=>{c()}),(s,e)=>{const j=D;return i(),a("div",null,[e[12]||(e[12]=t("div",{class:"flex items-center justify-between mb-6"},[t("div",null,[t("h1",{class:"text-3xl font-bold"},"คอร์สที่ฉันสอน"),t("p",{class:"text-gray-600 mt-1"},"รายการคอร์สที่คุณได้รับมอบหมายให้สอน")])],-1)),t("div",J,[t("div",G,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ค้นหา",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r(n).search=o),type:"text",placeholder:"ค้นหาด้วยชื่อคอร์ส, รหัสคอร์ส",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",onInput:_},null,544),[[O,r(n).search]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ประเภท",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r(n).type=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",onChange:c},[...e[4]||(e[4]=[t("option",{value:""},"ทั้งหมด",-1),t("option",{value:"live_online"},"Live Online",-1),t("option",{value:"vod"},"VOD",-1),t("option",{value:"hybrid"},"Hybrid",-1)])],544),[[y,r(n).type]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"สถานะ",-1)),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(n).status=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",onChange:c},[...e[6]||(e[6]=[t("option",{value:""},"ทั้งหมด",-1),t("option",{value:"draft"},"ร่าง",-1),t("option",{value:"published"},"เผยแพร่",-1),t("option",{value:"archived"},"เก็บถาวร",-1)])],544),[[y,r(n).status]])])])]),t("div",K,[r(u)?(i(),a("div",P,[...e[8]||(e[8]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"},null,-1),t("p",{class:"mt-2 text-gray-600"},"กำลังโหลด...",-1)])])):r(d)?(i(),a("div",Q,l(r(d)),1)):r(p).length===0?(i(),a("div",W,[...e[9]||(e[9]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),t("p",{class:"mt-4 text-lg font-medium"},"ไม่พบคอร์สที่คุณสอน",-1),t("p",{class:"mt-1 text-sm"},"คุณยังไม่ได้รับมอบหมายให้สอนคอร์สใดๆ",-1)])])):(i(),a("table",X,[e[11]||(e[11]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"คอร์ส"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ประเภท"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ราคา"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ระดับ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"สถานะ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"วันที่สร้าง"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"จัดการ")])],-1)),t("tbody",Y,[(i(!0),a(F,null,U(r(p),o=>(i(),a("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",{class:"px-6 py-4 cursor-pointer",onClick:mt=>r(w).push(`/admin/courses/${o.id}`)},[t("div",null,[t("div",tt,l(o.title),1),o.code?(i(),a("div",et,"รหัส: "+l(o.code),1)):f("",!0),o.description?(i(),a("div",st,l(o.description),1)):f("",!0)])],8,Z),t("td",ot,[t("span",{class:v(["px-2 py-1 text-xs font-medium rounded",C(o.type)])},l(k(o.type)),3)]),t("td",nt,[t("span",rt,l(T(o.price)),1)]),t("td",at,[o.level?(i(),a("span",it,l(M(o.level)),1)):(i(),a("span",lt,"-"))]),t("td",dt,[t("span",{class:v(["px-2 py-1 text-xs font-medium rounded",B(o.status)])},l(N(o.status)),3)]),t("td",ct,l(V(o.created_at)),1),t("td",pt,[t("div",ut,[E(j,{to:`/admin/courses/${o.id}`,class:"text-blue-600 hover:text-blue-900",title:"ดูรายละเอียด"},{default:I(()=>[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["to"])])])]))),128))])]))])])}}});export{ht as default};
