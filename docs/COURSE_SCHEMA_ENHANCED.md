# üìä Course Schema Enhanced Analysis

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå**: 2025-01-19  
**‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**: "‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÇ‡∏Ñ‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡∏õ.6 ‡∏™‡∏≠‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏°.1 ‡∏õ‡∏µ 2569"

---

## üîç ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å:
- **‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏£‡πå‡∏™**: ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÇ‡∏Ñ‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡∏õ.6 ‡∏™‡∏≠‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏°.1
- **‡∏™‡∏≤‡∏Ç‡∏≤**: ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÑ‡∏≠‡∏™‡πå‡πÅ‡∏•‡∏ô‡∏î‡πå
- **‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô**: ‡∏õ.6 ‚Üí ‡∏°.1 (Entrance Exam)
- **‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤**: 2569
- **‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á**: 28 ‡∏°‡∏µ.‡∏Ñ. 69

### ‡∏£‡∏≤‡∏Ñ‡∏≤:
- **Onsite**: 5,500 ‡∏ö‡∏≤‡∏ó
- **Online**: 4,000 ‡∏ö‡∏≤‡∏ó

### ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:
**Onsite:**
- ‡∏ï‡∏≥‡∏£‡∏≤ 5 ‡πÄ‡∏•‡πà‡∏°
- ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
- ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á

**Online:**
- ‡∏ï‡∏≥‡∏£‡∏≤ 5 ‡πÄ‡∏•‡πà‡∏°
- ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á
- ‡∏™‡πà‡∏á‡∏ï‡∏≥‡∏£‡∏≤‡∏ü‡∏£‡∏µ‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô

### ‡∏£‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:
- **Round 1**: ‡πÄ‡∏™‡∏≤‡∏£‡πå 21, 28 ‡∏Å.‡∏û. 69 ‡πÅ‡∏•‡∏∞ 7, 14, 21, 22 ‡∏°‡∏µ.‡∏Ñ. 69 (‡πÄ‡∏ß‡∏•‡∏≤ 08.30-16.15)
- **Round 2**: ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏û‡∏∏‡∏ò-‡∏®‡∏∏‡∏Å‡∏£‡πå 16-18-20-23-25-27 ‡∏°‡∏µ.‡∏Ñ. 69 (‡πÄ‡∏ß‡∏•‡∏≤ 08.30-16.15)

### ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤:
- ‡∏ï‡∏¥‡∏ß‡πÄ‡∏Ç‡πâ‡∏° 5 ‡∏ß‡∏¥‡∏ä‡∏≤‡∏´‡∏•‡∏±‡∏Å: ‡∏Ñ‡∏ì‡∏¥‡∏ï, ‡∏ß‡∏¥‡∏ó‡∏¢‡πå, ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©, ‡πÑ‡∏ó‡∏¢, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°
- ‡∏ï‡∏¥‡∏ß 42 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÄ‡∏ï‡πá‡∏°
- ‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2 ‡∏£‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

---

## ‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Schema

### 1. **Grade Levels (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô)** ‚≠ê CRITICAL
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô (‡∏õ‡∏£‡∏∞‡∏ñ‡∏° 1-6, ‡∏°‡∏±‡∏ò‡∏¢‡∏° 1-6)

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `grade_levels` (master data)
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_grade_levels` (many-to-many)

**Grade Levels**:
- ‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1-6 (‡∏õ.1 - ‡∏õ.6)
- ‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1-6 (‡∏°.1 - ‡∏°.6)

### 2. **Pricing (‡∏£‡∏≤‡∏Ñ‡∏≤)** ‚≠ê CRITICAL
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏°‡∏µ 2 ‡∏£‡∏≤‡∏Ñ‡∏≤ (Onsite ‡πÅ‡∏•‡∏∞ Online)

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**:
- ‡πÄ‡∏û‡∏¥‡πà‡∏° `onsite_price DECIMAL(10, 2)` ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `courses`
- ‡πÄ‡∏û‡∏¥‡πà‡∏° `online_price DECIMAL(10, 2)` ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `courses`
- ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_pricing` ‡πÅ‡∏¢‡∏Å (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô)

### 3. **Course Benefits/Inclusions (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö)** ‚≠ê CRITICAL
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö (‡∏ï‡∏≥‡∏£‡∏≤, ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤, ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á)

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_inclusions` (many-to-many)
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `inclusions` (master data: ‡∏ï‡∏≥‡∏£‡∏≤, ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤, ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á, ‡∏™‡πà‡∏á‡∏ï‡∏≥‡∏£‡∏≤‡∏ü‡∏£‡∏µ)

### 4. **Course Rounds/Batches (‡∏£‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô)** ‚≠ê CRITICAL
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö (Round 1, Round 2)

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_rounds` ‡∏´‡∏£‡∏∑‡∏≠ `course_batches`
- ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡∏°‡∏µ: ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏ö, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡πÄ‡∏ß‡∏•‡∏≤, ‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô)

### 5. **Exam Date (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö)** ‚≠ê IMPORTANT
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á

**‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**: ‡πÄ‡∏û‡∏¥‡πà‡∏° `exam_date DATETIME` ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `courses`

### 6. **Subjects (‡∏ß‡∏¥‡∏ä‡∏≤)** ‚≠ê IMPORTANT
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏°‡∏µ‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á

**‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `subjects` (master data)
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_subjects` (many-to-many)

---

## üìù Enhanced SQL Schema

```sql
-- ============================================
-- GRADE LEVELS MODULE
-- ============================================

CREATE TABLE IF NOT EXISTS grade_levels (
    id INT PRIMARY KEY AUTO_INCREMENT,
    code VARCHAR(20) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    level_type ENUM('elementary', 'secondary') NOT NULL,
    grade_number INT NOT NULL,
    display_order INT DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_code (code),
    INDEX idx_type_grade (level_type, grade_number)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Insert grade levels
INSERT INTO grade_levels (code, name, level_type, grade_number, display_order) VALUES
('P1', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1', 'elementary', 1, 1),
('P2', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2', 'elementary', 2, 2),
('P3', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3', 'elementary', 3, 3),
('P4', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4', 'elementary', 4, 4),
('P5', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5', 'elementary', 5, 5),
('P6', '‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6', 'elementary', 6, 6),
('M1', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1', 'secondary', 1, 7),
('M2', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2', 'secondary', 2, 8),
('M3', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3', 'secondary', 3, 9),
('M4', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4', 'secondary', 4, 10),
('M5', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5', 'secondary', 5, 11),
('M6', '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6', 'secondary', 6, 12);

CREATE TABLE IF NOT EXISTS course_grade_levels (
    id INT PRIMARY KEY AUTO_INCREMENT,
    course_id INT NOT NULL,
    grade_level_id INT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    FOREIGN KEY (grade_level_id) REFERENCES grade_levels(id) ON DELETE CASCADE,
    UNIQUE KEY unique_course_grade (course_id, grade_level_id),
    INDEX idx_course (course_id),
    INDEX idx_grade (grade_level_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ============================================
-- PRICING ENHANCEMENT
-- ============================================

-- Add pricing columns to courses table
ALTER TABLE courses
  ADD COLUMN onsite_price DECIMAL(10, 2) NULL AFTER price,
  ADD COLUMN online_price DECIMAL(10, 2) NULL AFTER onsite_price,
  ADD COLUMN exam_date DATETIME NULL AFTER academic_year;

-- ============================================
-- INCLUSIONS MODULE (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö)
-- ============================================

CREATE TABLE IF NOT EXISTS inclusions (
    id INT PRIMARY KEY AUTO_INCREMENT,
    code VARCHAR(50) UNIQUE NOT NULL,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    icon VARCHAR(100),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_code (code)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Insert common inclusions
INSERT INTO inclusions (code, name, description) VALUES
('TEXTBOOK', '‡∏ï‡∏≥‡∏£‡∏≤', '‡∏ï‡∏≥‡∏£‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô'),
('BAG', '‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤', '‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÉ‡∏™‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠'),
('VIDEO_REPLAY', '‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á', '‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô'),
('FREE_DELIVERY', '‡∏™‡πà‡∏á‡∏ï‡∏≥‡∏£‡∏≤‡∏ü‡∏£‡∏µ‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô', '‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ï‡∏≥‡∏£‡∏≤‡∏ü‡∏£‡∏µ‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô'),
('MATERIALS', '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö', '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô');

CREATE TABLE IF NOT EXISTS course_inclusions (
    id INT PRIMARY KEY AUTO_INCREMENT,
    course_id INT NOT NULL,
    inclusion_id INT NOT NULL,
    enrollment_type ENUM('onsite', 'online', 'both') DEFAULT 'both',
    quantity INT DEFAULT 1,
    description VARCHAR(500),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    FOREIGN KEY (inclusion_id) REFERENCES inclusions(id) ON DELETE CASCADE,
    INDEX idx_course (course_id),
    INDEX idx_inclusion (inclusion_id),
    INDEX idx_enrollment_type (enrollment_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ============================================
-- COURSE ROUNDS/BATCHES MODULE
-- ============================================

CREATE TABLE IF NOT EXISTS course_rounds (
    id INT PRIMARY KEY AUTO_INCREMENT,
    course_id INT NOT NULL,
    round_number INT NOT NULL,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    schedule_days VARCHAR(100), -- ‡πÄ‡∏ä‡πà‡∏ô "‡πÄ‡∏™‡∏≤‡∏£‡πå", "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏û‡∏∏‡∏ò-‡∏®‡∏∏‡∏Å‡∏£‡πå"
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    onsite_price DECIMAL(10, 2),
    online_price DECIMAL(10, 2),
    seat_limit INT,
    current_enrollments INT DEFAULT 0,
    status ENUM('upcoming', 'ongoing', 'completed', 'cancelled') DEFAULT 'upcoming',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    UNIQUE KEY unique_course_round (course_id, round_number),
    INDEX idx_course (course_id),
    INDEX idx_dates (start_date, end_date),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS course_round_schedules (
    id INT PRIMARY KEY AUTO_INCREMENT,
    round_id INT NOT NULL,
    session_date DATE NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    session_number INT,
    status ENUM('scheduled', 'completed', 'cancelled') DEFAULT 'scheduled',
    FOREIGN KEY (round_id) REFERENCES course_rounds(id) ON DELETE CASCADE,
    INDEX idx_round_date (round_id, session_date),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ============================================
-- SUBJECTS MODULE
-- ============================================

CREATE TABLE IF NOT EXISTS subjects (
    id INT PRIMARY KEY AUTO_INCREMENT,
    code VARCHAR(50) UNIQUE NOT NULL,
    name VARCHAR(200) NOT NULL,
    short_name VARCHAR(50),
    description TEXT,
    icon VARCHAR(100),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_code (code)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Insert common subjects
INSERT INTO subjects (code, name, short_name) VALUES
('MATH', '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', '‡∏Ñ‡∏ì‡∏¥‡∏ï'),
('SCIENCE', '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', '‡∏ß‡∏¥‡∏ó‡∏¢‡πå'),
('ENGLISH', '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©', '‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©'),
('THAI', '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', '‡πÑ‡∏ó‡∏¢'),
('SOCIAL', '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤', '‡∏™‡∏±‡∏á‡∏Ñ‡∏°'),
('PHYSICS', '‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå', '‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå'),
('CHEMISTRY', '‡πÄ‡∏Ñ‡∏°‡∏µ', '‡πÄ‡∏Ñ‡∏°‡∏µ'),
('BIOLOGY', '‡∏ä‡∏µ‡∏ß‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤', '‡∏ä‡∏µ‡∏ß‡∏∞');

CREATE TABLE IF NOT EXISTS course_subjects (
    id INT PRIMARY KEY AUTO_INCREMENT,
    course_id INT NOT NULL,
    subject_id INT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    FOREIGN KEY (subject_id) REFERENCES subjects(id) ON DELETE CASCADE,
    UNIQUE KEY unique_course_subject (course_id, subject_id),
    INDEX idx_course (course_id),
    INDEX idx_subject (subject_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

---

## üéØ Priority Summary

### **Priority 1: Critical (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)**
1. ‚úÖ **Grade Levels** - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `grade_levels` ‡πÅ‡∏•‡∏∞ `course_grade_levels`
2. ‚úÖ **Pricing** - `onsite_price`, `online_price`
3. ‚úÖ **Inclusions** - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `inclusions` ‡πÅ‡∏•‡∏∞ `course_inclusions`
4. ‚úÖ **Course Rounds** - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `course_rounds` ‡πÅ‡∏•‡∏∞ `course_round_schedules`

### **Priority 2: Important**
1. ‚úÖ **Subjects** - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `subjects` ‡πÅ‡∏•‡∏∞ `course_subjects`
2. ‚úÖ **Exam Date** - `exam_date` field

---

## üìã Example Data Structure

### Course Example:
```json
{
  "id": 1,
  "code": "ENT-P6-M1-2569",
  "title": "‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÇ‡∏Ñ‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡∏õ.6 ‡∏™‡∏≠‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏°.1 ‡∏õ‡∏µ 2569",
  "onsite_price": 5500,
  "online_price": 4000,
  "exam_date": "2026-03-28",
  "academic_year": 2569,
  "grade_levels": ["P6", "M1"],
  "subjects": ["MATH", "SCIENCE", "ENGLISH", "THAI", "SOCIAL"],
  "rounds": [
    {
      "round_number": 1,
      "name": "‡∏£‡∏≠‡∏ö 1",
      "schedule_days": "‡πÄ‡∏™‡∏≤‡∏£‡πå",
      "onsite_price": 5500,
      "online_price": 4000
    },
    {
      "round_number": 2,
      "name": "‡∏£‡∏≠‡∏ö 2",
      "schedule_days": "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏û‡∏∏‡∏ò-‡∏®‡∏∏‡∏Å‡∏£‡πå",
      "onsite_price": 5500,
      "online_price": 4000
    }
  ],
  "inclusions": {
    "onsite": ["TEXTBOOK", "BAG", "VIDEO_REPLAY"],
    "online": ["TEXTBOOK", "VIDEO_REPLAY", "FREE_DELIVERY"]
  }
}
```

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

**Schema ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô**: ‚ùå **‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏ó‡∏¢

**‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°**:
1. ‚úÖ Grade Levels (‡∏õ‡∏£‡∏∞‡∏ñ‡∏° 1-6, ‡∏°‡∏±‡∏ò‡∏¢‡∏° 1-6) - many-to-many
2. ‚úÖ Pricing (Onsite/Online) - 2 ‡∏£‡∏≤‡∏Ñ‡∏≤
3. ‚úÖ Inclusions (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö) - many-to-many
4. ‚úÖ Course Rounds (‡∏£‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô) - ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏Ñ‡∏≠‡∏£‡πå‡∏™
5. ‚úÖ Subjects (‡∏ß‡∏¥‡∏ä‡∏≤) - many-to-many
6. ‚úÖ Exam Date - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö

**Migration Script**: `scripts/migrate-course-schema-enhanced.ts`

---

*‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 2025-01-19*

