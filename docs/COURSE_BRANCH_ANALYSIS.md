# р╕Бр╕▓р╕гр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣М: р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З/р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕нр╕гр╣Мр╕к - р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ър╕кр╕▓р╕Вр╕▓

## ЁЯУЛ р╕кр╕гр╕╕р╕Ыр╕Ыр╕▒р╕Нр╕лр╕▓

**р╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕ер╕▒р╕Б:** р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕нр╕гр╣Мр╕кр╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ **р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓** р╕Чр╕▒р╣Йр╕Зр╕Чр╕╡р╣И Database р╕бр╕╡р╕Хр╕▓р╕гр╕▓р╕З `course_branches` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕кр╕▒р╕бр╕Юр╕▒р╕Щр╕Шр╣Мр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З courses р╕Бр╕▒р╕Ъ branches

---

## ЁЯФН р╕Бр╕▓р╕гр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

### 1. Database Schema тЬЕ **р╕бр╕╡р╕Хр╕▓р╕гр╕▓р╕З `course_branches` р╣Бр╕ер╣Йр╕з**

```sql
CREATE TABLE course_branches (
    id INT PRIMARY KEY AUTO_INCREMENT,
    course_id INT NOT NULL,
    branch_id INT NOT NULL,
    seat_limit INT,                    -- р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╕кр╕╣р╕Зр╕кр╕╕р╕Ф
    current_enrollments INT DEFAULT 0, -- р╕Ир╕│р╕Щр╕зр╕Щр╕Ьр╕╣р╣Йр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
    is_available BOOLEAN DEFAULT TRUE, -- р╕кр╕Цр╕▓р╕Щр╕░р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    FOREIGN KEY (branch_id) REFERENCES branches(id) ON DELETE CASCADE,
    UNIQUE KEY unique_course_branch (course_id, branch_id)
)
```

**р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в:**
- р╕Др╕нр╕гр╣Мр╕кр╕лр╕Щр╕╢р╣Ир╕Зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕╡р╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕кр╕▓р╕Вр╕▓ (Many-to-Many relationship)
- р╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓р╕бр╕╡р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╣Бр╕ер╕░р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щр╣Бр╕вр╕Бр╕Бр╕▒р╕Щ
- р╕Хр╕▓р╕б requirements: р╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓р╕бр╕╡р╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕гр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З

---

### 2. Frontend Components тЭМ **р╣Др╕бр╣Ир╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓**

#### 2.1 `CourseModal.vue` (Modal р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕к)

**Fields р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:**
- тЬЕ р╕Кр╕╖р╣Ир╕нр╕Др╕нр╕гр╣Мр╕к (title)
- тЬЕ р╕гр╕лр╕▒р╕кр╕Др╕нр╕гр╣Мр╕к (code)
- тЬЕ р╕Ыр╕гр╕░р╣Ар╕ар╕Ч (type: live_online/vod/hybrid)
- тЬЕ р╕гр╕▓р╕Др╕▓ (price)
- тЬЕ р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓ (duration_hours)
- тЬЕ р╕гр╕░р╕Фр╕▒р╕Ъ (level: beginner/intermediate/advanced)
- тЬЕ р╕кр╕Цр╕▓р╕Щр╕░ (status: draft/published/archived)
- тЬЕ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в (description)
- тЭМ **р╣Др╕бр╣Ир╕бр╕╡: р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓ (branches)**

**Code р╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╣Др╕Ы API:**
```typescript
const body: any = {
  title: form.title,
  description: form.description || null,
  type: form.type,
  price: form.price,
  duration_hours: form.duration_hours || null,
  level: form.level || null,
  status: form.status
}
// тЭМ р╣Др╕бр╣Ир╕бр╕╡ branches р╕лр╕гр╕╖р╕н branch_ids
```

#### 2.2 `app/pages/admin/courses/[id]/edit.vue` (р╕лр╕Щр╣Йр╕▓р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕нр╕гр╣Мр╕к)

**Fields р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Ъ CourseModal** - тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓р╣Ар╕Кр╣Ир╕Щр╕Бр╕▒р╕Щ

---

### 3. API Endpoints тЭМ **р╣Др╕бр╣Ир╕Ир╕▒р╕Фр╕Бр╕▓р╕г course_branches**

#### 3.1 `POST /api/admin/courses` (р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕к)

**Code р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:**
```typescript
// server/api/admin/courses.post.ts
await execute(
  `INSERT INTO courses (
    title, description, type, price, duration_hours, level, status, code, created_by
  ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,
  [...]
)
// тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕г INSERT р╕ер╕З course_branches
```

**р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╣Ар╕Бр╕┤р╕Фр╕Вр╕╢р╣Йр╕Щ:**
- р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕кр╣Др╕Фр╣Й р╣Бр╕Хр╣Ир╕Др╕нр╕гр╣Мр╕кр╕Ир╕░р╣Др╕бр╣Ир╕бр╕╡р╕кр╕▓р╕Вр╕▓р╣Гр╕Фр╣Ж
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕░р╕Ър╕╕р╣Др╕Фр╣Йр╕зр╣Ир╕▓р╕Др╕нр╕гр╣Мр╕кр╕Щр╕╡р╣Йр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щр╕Чр╕╡р╣Ир╕кр╕▓р╕Вр╕▓р╣Др╕лр╕Щ
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Хр╕▒р╣Йр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╣Бр╕вр╕Бр╕Хр╕▓р╕бр╕кр╕▓р╕Вр╕▓р╣Др╕Фр╣Й

#### 3.2 `PUT /api/admin/courses/:id` (р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕нр╕гр╣Мр╕к)

**Code р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:**
```typescript
// server/api/admin/courses/[id].put.ts
await execute(
  `UPDATE courses SET
    title = ?, description = ?, type = ?, price = ?, ...
  WHERE id = ?`,
  [...]
)
// тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕г UPDATE course_branches
```

**р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╣Ар╕Бр╕┤р╕Фр╕Вр╕╢р╣Йр╕Щ:**
- р╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕нр╕гр╣Мр╕кр╣Др╕Фр╣Й р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╕▓р╕Вр╕▓р╣Др╕Фр╣Й
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓р╣Др╕Фр╣Й

#### 3.3 `GET /api/admin/courses/:id` (р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Др╕нр╕гр╣Мр╕к)

**Code р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:**
```typescript
// server/api/admin/courses/[id].get.ts
const courses = await query(
  `SELECT c.*, u.first_name as created_by_name, ...
   FROM courses c
   LEFT JOIN users u ON c.created_by = u.id
   WHERE c.id = ?`,
  [courseId]
)
// тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕г JOIN р╕лр╕гр╕╖р╕н SELECT р╕Ир╕▓р╕Б course_branches
```

**р╕Ьр╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Й:**
- р╣Др╕Фр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕нр╕гр╣Мр╕к р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╕Чр╕гр╕▓р╕Ър╕зр╣Ир╕▓р╕Др╕нр╕гр╣Мр╕кр╕Щр╕╡р╣Йр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щр╕Чр╕╡р╣Ир╕кр╕▓р╕Вр╕▓р╣Др╕лр╕Щр╕Ър╣Йр╕▓р╕З
- р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓

---

### 4. р╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕▓р╕б Requirements

р╕Хр╕▓р╕б `docs/CLIENT_REQUIREMENTS.md`:
> **р╕гр╕░р╕Ър╕Ъ 2 р╕кр╕▓р╕Вр╕▓**
> - р╕кр╕▓р╕Вр╕▓р╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щ (р╕Бр╕гр╕╕р╕Зр╣Ар╕Чр╕Юр╕п)
> - р╕кр╕▓р╕Вр╕▓р╣Вр╕Др╕гр╕▓р╕К
> - **р╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓р╕бр╕╡р╕нр╕▓р╕Ир╕▓р╕гр╕вр╣Мр╣Бр╕ер╕░р╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕гр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З**
> - р╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕гр╕╡р╕вр╕Щр╕кр╕▓р╕Вр╕▓р╣Гр╕Фр╕Бр╣Зр╣Др╕Фр╣Й

**р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в:**
- тЬЕ р╕Др╕нр╕гр╣Мр╕кр╕лр╕Щр╕╢р╣Ир╕Зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕кр╕▓р╕Вр╕▓
- тЬЕ р╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓р╕нр╕▓р╕Ир╕бр╕╡р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╣Бр╕ер╕░р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Чр╕╡р╣Ир╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щ
- тЬЕ р╕Др╕зр╕гр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓р╣Др╕Фр╣Йр╕Хр╕▒р╣Йр╕Зр╣Бр╕Хр╣Ир╕Хр╕нр╕Щр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕к

---

## ЁЯОп р╕кр╕гр╕╕р╕Ыр╕Ыр╕▒р╕Нр╕лр╕▓

| Component | р╕кр╕Цр╕▓р╕Щр╕░ | р╕Ыр╕▒р╕Нр╕лр╕▓ |
|-----------|-------|-------|
| Database Schema | тЬЕ р╕Юр╕гр╣Йр╕нр╕б | р╕бр╕╡р╕Хр╕▓р╕гр╕▓р╕З `course_branches` р╣Бр╕ер╣Йр╕з |
| Frontend (CourseModal) | тЭМ р╣Др╕бр╣Ир╕бр╕╡ | р╣Др╕бр╣Ир╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓ |
| Frontend (Edit Page) | тЭМ р╣Др╕бр╣Ир╕бр╕╡ | р╣Др╕бр╣Ир╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓ |
| API POST (Create) | тЭМ р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ | р╣Др╕бр╣И INSERT р╕ер╕З `course_branches` |
| API PUT (Update) | тЭМ р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ | р╣Др╕бр╣И UPDATE `course_branches` |
| API GET (Detail) | тЭМ р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З | р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▓р╕Вр╕▓ |

---

## ЁЯТб р╣Бр╕Щр╕зр╕Чр╕▓р╕Зр╣Бр╕Бр╣Йр╣Др╕В

### Phase 1: API - р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г `course_branches`

#### 1.1 р╣Ар╕Юр╕┤р╣Ир╕б API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓
```typescript
// server/api/admin/branches.get.ts
// GET /api/admin/branches
// р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕лр╣Йр╣Ар╕ер╕╖р╕нр╕Б
```

#### 1.2 р╣Бр╕Бр╣Йр╣Др╕В `POST /api/admin/courses`
- тЬЕ р╕гр╕▒р╕Ъ `branches` array р╕Ир╕▓р╕Б request body
- тЬЕ INSERT р╕ер╕З `courses` table
- тЬЕ INSERT р╕ер╕З `course_branches` table (р╕лр╕ер╕▓р╕вр╣Бр╕Цр╕з) р╕Юр╕гр╣Йр╕нр╕б `seat_limit`, `is_available`

#### 1.3 р╣Бр╕Бр╣Йр╣Др╕В `PUT /api/admin/courses/:id`
- тЬЕ р╕гр╕▒р╕Ъ `branches` array р╕Ир╕▓р╕Б request body
- тЬЕ UPDATE р╕Вр╣Йр╕нр╕бр╕╣р╕е `courses` table
- тЬЕ DELETE records р╣Гр╕Щ `course_branches` р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕нр╕вр╕╣р╣Ир╣Гр╕Щ list р╣Гр╕лр╕бр╣И
- тЬЕ INSERT records р╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡
- тЬЕ UPDATE records р╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з (р╣Ар╕Кр╣Ир╕Щ `seat_limit`, `is_available`)

#### 1.4 р╣Бр╕Бр╣Йр╣Др╕В `GET /api/admin/courses/:id`
- тЬЕ JOIN р╕Бр╕▒р╕Ъ `course_branches` р╣Бр╕ер╕░ `branches`
- тЬЕ Return р╕Вр╣Йр╕нр╕бр╕╣р╕е branches р╕Чр╕╡р╣Ир╕Др╕нр╕гр╣Мр╕кр╕Щр╕╡р╣Йр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щр╕Юр╕гр╣Йр╕нр╕бр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф

---

### Phase 2: Frontend - р╣Ар╕Юр╕┤р╣Ир╕б UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓

#### 2.1 р╣Бр╕Бр╣Йр╣Др╕В `CourseModal.vue`
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Multi-select р╕лр╕гр╕╖р╕н Checkbox list р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓ (р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б `/api/admin/branches`)
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣М `seat_limit` р╣Бр╕ер╕░ `is_available` р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓ (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)

#### 2.2 р╣Бр╕Бр╣Йр╣Др╕В `app/pages/admin/courses/[id]/edit.vue`
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Multi-select р╕лр╕гр╕╖р╕н Checkbox list р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕ер╕╖р╕нр╕Бр╕кр╕▓р╕Вр╕▓
- тЬЕ Load р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▓р╕Вр╕▓р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Бр╣Др╕зр╣Йр╣Бр╕ер╣Йр╕зр╕Ир╕▓р╕Б API
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б

#### 2.3 р╣Бр╕Бр╣Йр╣Др╕В `app/pages/admin/courses/[id]/index.vue` (Detail Page)
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓р╕Чр╕╡р╣Ир╕Др╕нр╕гр╣Мр╕кр╕Щр╕╡р╣Йр╣Ар╕Ыр╕┤р╕Фр╕кр╕нр╕Щ
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕кр╕▓р╕Вр╕▓
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░ (р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕гр╕╖р╕нр╣Др╕бр╣И)

---

### Phase 3: р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Чр╕Шр╕┤р╣М

#### 3.1 Branch Admin
- Branch Admin р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕▓р╕Вр╕▓р╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З
- р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕к р╕Ир╕░р╕Цр╕╣р╕Бр╕Хр╕▒р╣Йр╕Зр╣Ар╕Ыр╣Зр╕Щр╕кр╕▓р╕Вр╕▓р╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

#### 3.2 System Admin / Owner
- р╣Ар╕лр╣Зр╕Щр╕Чр╕╕р╕Бр╕кр╕▓р╕Вр╕▓
- р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕кр╕▓р╕Вр╕▓

---

## ЁЯУЭ р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Бр╕▓р╕г Implementation

### API Request/Response Format

#### POST /api/admin/courses
**Request Body:**
```typescript
{
  title: string,
  description?: string,
  type: 'live_online' | 'vod' | 'hybrid',
  price: number,
  duration_hours?: number,
  level?: 'beginner' | 'intermediate' | 'advanced',
  status: 'draft' | 'published' | 'archived',
  code?: string,
  branches: [                    // тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б
    {
      branch_id: number,
      seat_limit?: number,
      is_available?: boolean
    }
  ]
}
```

#### PUT /api/admin/courses/:id
**Request Body:** р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Ъ POST (р╕бр╕╡ `branches` array)

#### GET /api/admin/courses/:id
**Response:**
```typescript
{
  success: true,
  data: {
    course: {
      id: number,
      title: string,
      // ... other fields
    },
    branches: [                  // тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б
      {
        id: number,
        branch_id: number,
        branch_name: string,
        branch_code: string,
        seat_limit?: number,
        current_enrollments: number,
        is_available: boolean
      }
    ],
    enrollments: [...]
  }
}
```

---

### Frontend Form Fields

**р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ form:**
```vue
<div class="md:col-span-2">
  <label class="block text-sm font-medium text-gray-700 mb-2">
    р╕кр╕▓р╕Вр╕▓ <span class="text-red-500">*</span>
  </label>
  <div class="space-y-2">
    <label 
      v-for="branch in availableBranches" 
      :key="branch.id"
      class="flex items-center space-x-2"
    >
      <input
        type="checkbox"
        :value="branch.id"
        v-model="form.selectedBranches"
      >
      <span>{{ branch.name }}</span>
    </label>
  </div>
</div>
```

---

## тЬЕ Checklist р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

### Backend (API)
- [ ] р╕кр╕гр╣Йр╕▓р╕З `GET /api/admin/branches` endpoint
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `POST /api/admin/courses` р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ `branches` array
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `PUT /api/admin/courses/:id` р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ `branches` array
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `GET /api/admin/courses/:id` р╣Гр╕лр╣Й return р╕Вр╣Йр╕нр╕бр╕╣р╕е `branches`
- [ ] р╣Ар╕Юр╕┤р╣Ир╕б validation р╕кр╕│р╕лр╕гр╕▒р╕Ъ `branches` array
- [ ] р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Чр╕Шр╕┤р╣М (Branch Admin vs System Admin)

### Frontend
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `CourseModal.vue` р╣Ар╕Юр╕┤р╣Ир╕б multi-select р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕▓р╕Вр╕▓
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `app/pages/admin/courses/[id]/edit.vue` р╣Ар╕Юр╕┤р╣Ир╕б multi-select р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕▓р╕Вр╕▓
- [ ] р╣Бр╕Бр╣Йр╣Др╕В `app/pages/admin/courses/[id]/index.vue` р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓
- [ ] р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▓р╕Вр╕▓р╕Ир╕▓р╕Б API
- [ ] р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕▓р╕Вр╕▓р╣Гр╕Щ course list (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)

### Testing
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕гр╣Мр╕кр╕Юр╕гр╣Йр╕нр╕бр╣Ар╕ер╕╖р╕нр╕Бр╕лр╕ер╕▓р╕вр╕кр╕▓р╕Вр╕▓
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕нр╕гр╣Мр╕к: р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ър╕кр╕▓р╕Вр╕▓
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣М: Branch Admin р╣Ар╕лр╣Зр╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕▓р╕Вр╕▓р╕Вр╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣М: System Admin р╣Ар╕лр╣Зр╕Щр╕Чр╕╕р╕Бр╕кр╕▓р╕Вр╕▓

---

## ЁЯФЧ References

- Database Schema: `docs/DATABASE_SCHEMA.md`
- Client Requirements: `docs/CLIENT_REQUIREMENTS.md`
- Course API: `server/api/admin/courses/`
- Course Components: `app/components/CourseModal.vue`, `app/pages/admin/courses/[id]/`

---

**р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч:** 2024-12-20  
**р╕кр╕Цр╕▓р╕Щр╕░:** тЪая╕П р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

